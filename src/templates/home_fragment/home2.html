{% extends "layout.html" %}

{% block title %}Home{% endblock %}

{% block main %}
<div class="card home2" id="home-container">
    <div id="home">
        <textarea class="hidden">{{ content | safe }}</textarea>
    </div>
</div>
<h2>Announcements</h2>
{% for announcement in data %}
    <div class="card post-card">
        <div class="see-more-wrapper">
            <a href="#" class="see-more" style="margin-left: 8px;">See More</a>
        </div>
        <h3>{{ announcement["name"] }}</h3>
        <p>Posted <span class="dt">{{ announcement["date"] }}</span></p>
        <div class="showdown">
            <textarea class="hidden">{{ announcement["description"] | safe }}</textarea>
        </div>
    </div>
{% endfor %}
<div id="pagination" data-pages="{{ length }}"></div>
{% endblock %}
{% block script %}
<script>
    const homeDiv = document.getElementById("home");
    homeDiv.innerHTML = DOMPurify.sanitize(
        homeDiv.querySelector("textarea").value, { ADD_ATTR: ['target'] });
</script>
{% endblock %}
